# HU-003: Gestionar Catálogo de Productos

---

## Metadata

| Campo | Valor |
|-------|-------|
| **ID** | HU-003 |
| **Prioridad** | Must |
| **RF Relacionados** | RF-009, RF-010, RF-011, RF-012, RF-013, RF-014, RF-015, RF-016 |
| **Módulo/Componente** | Gestión de Productos |
| **Estado** | Draft |

---

## Historia de Usuario

**Como** Usuario del sistema,  
**Quiero** gestionar el catálogo completo de productos con sus atributos, proveedores y configuraciones DDMRP,  
**Para** tener toda la información necesaria para la planificación de inventario.

---

## Criterios de Aceptación

### CA-001: Crear producto básico

- **Dado** que estoy en la pantalla de creación de productos
- **Cuando** completo SKU, Nombre, Categoría, Costo unitario, Unidad de medida, lote, fecha de ingreso, fecha de caducidad, (opcional) imagen, descripción, cpd y guardo
- **Entonces** el sistema crea el producto con estado "Activo"

### CA-002: SKU único

- **Dado** que existe un producto con SKU "ABC-123"
- **Cuando** intento crear otro producto con el mismo SKU
- **Entonces** el sistema muestra un error indicando que el SKU ya existe, apenas es escrito en el campo SKU, señalizado con un color rojo.

### CA-003: Asignar múltiples proveedores

- **Dado** que existe un producto y múltiples proveedores
- **Cuando** asigno dos proveedores al producto con sus respectivos Lead Time, MOQ y Frecuencia
- **Entonces** el sistema guarda ambos proveedores y permite marcar uno como preferido

### CA-004: Configurar perfil de buffer

- **Dado** que existen perfiles de buffer configurados
- **Cuando** asigno un perfil de buffer al producto
- **Entonces** el sistema guarda la configuración y calcula las zonas automáticamente

### CA-005: Listar productos con filtros

- **Dado** que existen múltiples productos en el sistema
- **Cuando** aplico filtros por categoría, proveedor o estado de buffer
- **Entonces** el sistema muestra solo los productos que cumplen los criterios

### CA-006: Ver detalle completo

- **Dado** que existe un producto con transacciones
- **Cuando** accedo a su vista detallada
- **Entonces** veo: datos maestros, proveedores asignados, inventario actual, historial de transacciones, y estado de buffer

### CA-007: Desactivar producto

- **Dado** que existe un producto activo con inventario
- **Cuando** lo desactivo
- **Entonces** el producto deja de aparecer en planificación pero mantiene su historial visible

### CA-008: Comportamiento para producto nuevo

- **Dado** que creo un producto sin histórico de ventas
- **Cuando** el sistema calcula su CPD
- **Entonces** aplica un comportamiento lineal/estable con el CPD ingresado manualmente o estimado

---

## Escenarios Alternativos

### Escenario: Producto sin proveedor

- **Dado** que creo un producto sin asignar proveedores
- **Cuando** intento acceder a planificación de reposición
- **Entonces** el sistema indica que el producto requiere al menos un proveedor asignado

### Escenario: Cambio de proveedor preferido

- **Dado** que un producto tiene proveedor A como preferido
- **Cuando** marco al proveedor B como preferido
- **Entonces** el sistema actualiza la preferencia y recalcula fechas estimadas usando el LT del nuevo proveedor preferido

---

## Notas y Aclaraciones

- El SKU debe ser alfanumérico, permitiendo guiones y puntos
- Cada proveedor-producto puede tener Lead Time, MOQ y frecuencia de pedido diferentes
- El perfil de buffer es obligatorio para que el producto participe en la planificación DDMRP
- Los productos nuevos sin histórico usan CPD ingresado manualmente hasta acumular datos

---

## Checklist de Validación

- [x] La historia sigue el formato "Como... Quiero... Para..."
- [x] El valor/beneficio está claramente expresado
- [x] Hay al menos 1 criterio de aceptación
- [x] Los criterios siguen el formato Given/When/Then
- [x] Los RF relacionados están correctamente referenciados
- [x] La prioridad MoSCoW está asignada

---

## Señal de Completación

> Historia de usuario HU-003 completada.
