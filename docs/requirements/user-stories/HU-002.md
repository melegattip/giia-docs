# HU-002: Organizar Productos en Categorías

---

## Metadata

| Campo | Valor |
|-------|-------|
| **ID** | HU-002 |
| **Prioridad** | Must |
| **RF Relacionados** | RF-005, RF-006, RF-007, RF-008 |
| **Módulo/Componente** | Gestión de Categorías |
| **Estado** | Draft |

---

## Historia de Usuario

**Como** Administrador del sistema,  
**Quiero** crear y administrar categorías de productos en una estructura jerárquica,  
**Para** organizar el catálogo y facilitar el análisis del inventario por segmentos.

---

## Criterios de Aceptación

### CA-001: Crear categoría raíz

- **Dado** que estoy en la pantalla de gestión de categorías
- **Cuando** creo una categoría sin seleccionar categoría padre
- **Entonces** el sistema crea una categoría de primer nivel (raíz)

### CA-002: Crear subcategoría

- **Dado** que existe una categoría "Electrónica"
- **Cuando** creo una nueva categoría seleccionando "Electrónica" como padre
- **Entonces** el sistema crea la subcategoría y la muestra anidada bajo "Electrónica"

### CA-003: Visualizar árbol de categorías

- **Dado** que existen categorías con múltiples niveles de anidación
- **Cuando** accedo a la pantalla de categorías
- **Entonces** el sistema muestra las categorías en formato de árbol expandible/contraíble

### CA-004: Editar categoría

- **Dado** que existe una categoría con productos asociados
- **Cuando** modifico su nombre o descripción
- **Entonces** el sistema guarda los cambios sin afectar los productos asociados

### CA-005: Eliminar categoría vacía

- **Dado** que existe una categoría sin productos ni subcategorías
- **Cuando** ejecuto la acción de eliminar
- **Entonces** el sistema elimina la categoría permanentemente

### CA-006: Prevenir eliminación de categoría con productos

- **Dado** que existe una categoría con productos asociados
- **Cuando** intento eliminarla
- **Entonces** el sistema muestra una advertencia indicando que si no asigna los productos a otra categoría, estos quedarán sin categoría
---

## Escenarios Alternativos

### Escenario: Mover categoría a otra rama

- **Dado** que existe una categoría "Cables" bajo "Electrónica"
- **Cuando** edito "Cables" y cambio su padre a "Accesorios" o lo dejo sin padre
- **Entonces** la categoría se mueve al nuevo padre o a la raiz, manteniendo sus productos asociados

### Escenario: Categoría con subcategorías

- **Dado** que existe una categoría con subcategorías
- **Cuando** intento eliminarla
- **Entonces** el sistema indica que primero debe eliminar o reubicar las subcategorías

---

## Notas y Aclaraciones

- No hay límite de niveles de anidación, pero se recomienda máximo 3 niveles para usabilidad
- Los productos siempre deben pertenecer a una categoría hoja (última categoría de la rama)
- Al filtrar por categoría padre, se incluyen automáticamente todas las subcategorías

---

## Checklist de Validación

- [x] La historia sigue el formato "Como... Quiero... Para..."
- [x] El valor/beneficio está claramente expresado
- [x] Hay al menos 1 criterio de aceptación
- [x] Los criterios siguen el formato Given/When/Then
- [x] Los RF relacionados están correctamente referenciados
- [x] La prioridad MoSCoW está asignada

---

## Señal de Completación

> Historia de usuario HU-002 completada.
