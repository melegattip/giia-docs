# HU-012: Aplicar Ajustes Dinámicos

---

## Metadata

| Campo | Valor |
|-------|-------|
| **ID** | HU-012 |
| **Prioridad** | Should |
| **RF Relacionados** | RF-058, RF-059, RF-060, RF-061, RF-062 |
| **Módulo/Componente** | Motor DDMRP - Ajustes Dinámicos |
| **Estado** | Reviewed |

---

## Historia de Usuario

**Como** Usuario del sistema,  
**Quiero** aplicar ajustes temporales a los buffers para anticipar cambios conocidos de demanda o suministro,  
**Para** preparar mi inventario ante eventos especiales como temporadas, promociones o restricciones de proveedores.

---

## Criterios de Aceptación

### CA-001: Aplicar Factor de Ajuste de Demanda (FAD)

- **Dado** que anticipo un aumento de demanda del 50% por temporada navideña
- **Cuando** aplico FAD=1.5 al producto X en los proximos N dias que elijo
- **Entonces** el sistema multiplica el CPD por 1.5 para el cálculo de zonas en los dias seleccionados

### CA-002: Aplicar Factor de Ajuste de Zona (FAZ)

- **Dado** que quiero aumentar el buffer de seguridad en un 20%
- **Cuando** aplico FAZ=1.2 al producto X en los proximos N dias que elijo
- **Entonces** el sistema multiplica todas las zonas por 1.2 - TODO: verificar efectivamente si se aplica solo a zona roja u otras tambien

### CA-003: Aplicar Factor de Ajuste de Lead Time (FALTD)

- **Dado** que el proveedor advierte demoras del 30% por temporada alta
- **Cuando** aplico FALTD=1.3 al producto X en los proximos N dias que elijo
- **Entonces** el sistema usa LT×1.3 para el cálculo de zonas en los dias seleccionados

### CA-004: Programar vigencia del ajuste

- **Dado** que aplico FAD=1.5 con fecha inicio 01/12 y fin 31/12
- **Cuando** llega el 01/01
- **Entonces** el sistema revierte automáticamente a FAD=1 y recalcula zonas

### CA-005: Ver ajustes activos

- **Dado** que existen múltiples ajustes programados
- **Cuando** accedo a la pantalla de ajustes dinámicos
- **Entonces** veo lista de ajustes con: producto, factor, fechas, estado (activo/programado/vencido)

### CA-006: Recálculo automático al cambiar datos base

- **Dado** que un producto tiene ajustes dinámicos aplicados
- **Cuando** cambia su CPD por nuevas transacciones
- **Entonces** el sistema recalcula zonas considerando tanto el nuevo CPD como los ajustes activos

---

## Escenarios Alternativos

### Escenario: Ajuste sin fecha fin

- **Dado** que aplico un ajuste sin especificar fecha fin
- **Cuando** guardo el ajuste
- **Entonces** el sistema lo mantiene activo indefinidamente hasta que lo desactive manualmente, pero el producto aparece con un icono de advertencia indicando que tiene un ajuste sin fecha de fin. TODO: definir que estrategia aplicamos en este caso.

### Escenario: Múltiples ajustes simultáneos

- **Dado** que aplico FAD=1.5 y FAZ=1.2 al mismo producto
- **Cuando** el sistema calcula las zonas
- **Entonces** ambos factores se aplican multiplicativamente

---

## Notas y Aclaraciones

- Los ajustes dinámicos son las "palancas" de DDMRP para adaptar buffers a situaciones conocidas
- FAD anticipa cambios de demanda (temporadas, promociones)
- FAZ ajusta el tamaño total del buffer (mayor/menor protección)
- FALTD compensa variaciones conocidas en tiempos de entrega
- Los ajustes no modifican los datos base (CPD, LT), solo el cálculo de zonas

---