# HU-008: Configurar Perfiles de Buffer

---

## Metadata

| Campo | Valor |
|-------|-------|
| **ID** | HU-008 |
| **Prioridad** | Must |
| **RF Relacionados** | RF-035, RF-036, RF-037, RF-038, RF-039 |
| **Módulo/Componente** | Motor DDMRP - Perfiles de Buffer |
| **Estado** | Draft |

---

## Historia de Usuario

**Como** Administrador del sistema,  
**Quiero** crear y configurar perfiles de buffer con diferentes parámetros según el tipo de producto,  
**Para** que cada producto tenga zonas de buffer adaptadas a su comportamiento de demanda y suministro.

---

## Criterios de Aceptación

### CA-001: Crear perfil de buffer

- **Dado** que accedo a configuración de perfiles de buffer
- **Cuando** creo un perfil con Nombre, Categoría de Lead Time, Factor de Lead Time y Factor de Variabilidad
- **Entonces** el sistema guarda el perfil y está disponible para asignar a productos

### CA-002: Categorías de Lead Time

- **Dado** que creo un perfil de buffer
- **Cuando** selecciono la categoría de Lead Time
- **Entonces** veo opciones: Corto, Medio, Largo (con umbrales definidos en configuración)

### CA-003: Definir umbrales de Lead Time

- **Dado** que accedo a configuración de sistema
- **Cuando** defino los umbrales: Corto (0-5 días), Medio (6-15 días), Largo (>15 días)
- **Entonces** el sistema usa estos valores para clasificar automáticamente los productos

### CA-004: Editar perfil de buffer

- **Dado** que existe un perfil asignado a 10 productos
- **Cuando** modifico el Factor de Variabilidad
- **Entonces** el sistema recalcula las zonas de los 10 productos automáticamente

### CA-005: Listar perfiles

- **Dado** que existen múltiples perfiles de buffer
- **Cuando** accedo a la lista de perfiles
- **Entonces** veo todos los perfiles con sus parámetros y cantidad de productos asignados

### CA-006: Eliminar perfil sin productos

- **Dado** que existe un perfil de buffer sin productos asignados
- **Cuando** lo elimino
- **Entonces** el sistema elimina el perfil permanentemente

### CA-007: Prevenir eliminación de perfil con productos

- **Dado** que existe un perfil asignado a productos
- **Cuando** intento eliminarlo
- **Entonces** el sistema impide la eliminación indicando que debe reasignar los productos primero

---

## Escenarios Alternativos

### Escenario: Perfil con valores extremos

- **Dado** que creo un perfil con Factor de Variabilidad > 1.0
- **Cuando** guardo el perfil
- **Entonces** el sistema muestra advertencia de que valores altos pueden generar buffers excesivos

### Escenario: Perfil predeterminado

- **Dado** que no existe ningún perfil de buffer
- **Cuando** creo el primer producto
- **Entonces** el sistema sugiere crear un perfil predeterminado antes de continuar

---

## Notas y Aclaraciones

- El Factor de Lead Time típicamente varía entre 0.2 y 0.5 dependiendo de la categoría
- El Factor de Variabilidad típicamente varía entre 0.1 y 0.5
- Los umbrales de Lead Time se configuran una vez durante el setup inicial
- En el futuro, el sistema sugerirá valores óptimos basados en datos empíricos

---

## Checklist de Validación

- [x] La historia sigue el formato "Como... Quiero... Para..."
- [x] El valor/beneficio está claramente expresado
- [x] Hay al menos 1 criterio de aceptación
- [x] Los criterios siguen el formato Given/When/Then
- [x] Los RF relacionados están correctamente referenciados
- [x] La prioridad MoSCoW está asignada

---

## Señal de Completación

> Historia de usuario HU-008 completada.
