# HU-011: Obtener Sugerencias de Reposición

---

## Metadata

| Campo | Valor |
|-------|-------|
| **ID** | HU-011 |
| **Prioridad** | Must |
| **RF Relacionados** | RF-053, RF-054, RF-055, RF-056, RF-057 |
| **Módulo/Componente** | Motor DDMRP - Sugerencias de Reposición |
| **Estado** | Reviewed |

---

## Historia de Usuario

**Como** Usuario del sistema,  
**Quiero** recibir sugerencias automáticas de qué productos reponer considerando el flujo neto y las zonas del dia de hoy,
**Para** tomar decisiones de compra rápidas y precisas sin cálculos manuales y para que el sistema me ayude a priorizar las repuestos que necesito reponer.

---

## Criterios de Aceptación

### CA-001: Generar sugerencia de reposición

- **Dado** que un producto tiene flujo neto en zona roja (flujo=40, TOG=150)
- **Cuando** el sistema genera sugerencias
- **Entonces** sugiere reponer TOG - Flujo Neto = 150 - 40 = 110 unidades

### CA-002: Sugerencia solo para productos en rojo/amarillo

- **Dado** que un producto tiene flujo neto en zona verde
- **Cuando** el sistema genera sugerencias
- **Entonces** no genera sugerencia de reposición para ese producto

### CA-003: Priorización por criticidad

- **Dado** que existen múltiples productos en zona roja con diferentes profundidades relativas
- **Cuando** veo la lista de sugerencias
- **Entonces** están ordenadas por profundidad en zona roja (mayor penetración = mayor prioridad)

### CA-004: Agrupar por proveedor

- **Dado** que existen sugerencias para productos de diferentes proveedores
- **Cuando** selecciono "Agrupar por proveedor"
- **Entonces** las sugerencias se organizan por proveedor preferido de cada producto

### CA-005: Ajustar cantidad sugerida

- **Dado** que el sistema sugiere reponer 110 unidades de un producto con MOQ=50
- **Cuando** modifico la cantidad a 150 unidades, es decir, el multiplo de MOQ mas cercano a 110 y mayor a 110
- **Entonces** el sistema muestra advertencia de MOQ pero permite el ajuste


---

## Escenarios Alternativos

### Escenario: Producto sin proveedor asignado

- **Dado** que un producto en zona roja no tiene proveedor asignado
- **Cuando** el sistema genera sugerencias
- **Entonces** muestra la sugerencia marcada como "Sin proveedor" requiriendo configuración

### Escenario: Múltiples proveedores disponibles

- **Dado** que un producto tiene 3 proveedores asignados
- **Cuando** se visualiza una recomendacion de reposición
- **Entonces** el sistema muestra el proveedor preferido por defecto, pero permite visualizar los otros proveedores disponibles para el producto si se desea.

---

## Notas y Aclaraciones

- La cantidad sugerida siempre busca llevar el flujo neto al TOG (Top of Green)
- Las sugerencias son dinámicas y se actualizan en tiempo real
- El usuario puede ignorar sugerencias sin consecuencias (no son obligatorias)
- Las sugerencias consideran OC pendientes para no duplicar pedidos

---
